# Web RTC

1. 개요
   두 브라우저가 통신해야 하는 경우 둘 사이에 메세지를 전달하기 위해 서버가 필요합니다. 그러나 중간에 서버가 있으면 브라우저 간 통신이 지연됩니다.
   이를 실시간으로 처리하게 해주는 오픈소스가 WebRTC 입니다. HTML, JS, WebSocket 라이브러리를 사용해 개발할 것 입니다.
   ws(web socket)을 통신 프로토콜로 사용하여 Spring Boot로 시그널링 서버를 구축해 보겠습니다.

2. WebRTC 기본 개념
   기본적인 두 브라우저 사이의 소통은 A가 서버에 메세지를 보내고 서버가 이 메세지를 다시 B에 보냅니다.
   WebRTC는 두 브라우저 사이에 채널을 생성하여 이 문제를 해결해 서버가 필요하지 않습니다.
   결과적으로 메세지가 직접 라우팅되므로 소요 시간이 크게 단축됩니다.

3. WebRTC 및 내장 기능 지원
   WebRTC는 Chrome, Firefox등 주요 브라우저 모바일 OS 같은 플랫폼에서 지원됩니다. 솔루션이 브라우저와 함께 제공되므로
   브라우저에 외부 플러그인을 설치할 필요가 없습니다. 또한 여러 문제를 내부적으로 처리하여 클라이언트 간 실시간 통신을 더 간단하게 만듭니다.

4. Peer to Peer Connection
   서버에 대해 알려진 주소가 있고 클라이언트가 서버의 주소를 알고있는 클라이언트-서버 통신과 달리 P2P 연결에서는 어떤 피어에도 주소가 없습니다.
   하지만 다음과 같은 단계가 필요합니다.
   . 의사 소통 가능 하도록
   . 서로를 식별하고 네트워크 관련 정보를 공유
   . 관련된 데이터, 모드 및 프로토콜의 형식을 공유하고 동의
   . 데이터 공유

5. Signaling
   시그널링은 네트워크 검색, 세션 생성, 세션 관리 및 미디어 기능 메타 데이터 교환과 관련된 프로세스를 나타냅니다.
   이는 클라이언트가 통신을 시작하기 위해 서로를 미리 알아야하기 때문에 필수적입니다.
   이 모든것을 달성하기 위해 WebRTC는 시그널링에 대한 표준을 지정하지 않고 개발자의 구현에 맡깁니다.

5.1 Signaling 서버 구축
시그널링 서버의 경우 Spring Boot를 사용하여 WebSocket 서버를 빌드합니다

6. 메타데이터 교환
P2P 연결에서 클라이언트는 서로 매우 다를 수 있습니다. Android의 Chrome은 Mac의 Mozilla에 연결할 수 있습니다.
따라서 통신에 사용되는 미디어 유형 및 코덱에 동의하는 피어 간의 핸드 셰이크가 필수적입니다.
이 단계에서 WebRTC는 SDP(Session Description Protocol)를 사용하여 클라이언트 간 메타 데이터에 동의합니다.
이를 달성하기 위해 시작 피어는 다른 피어가 원격 설명자로 설정해야하는 오퍼를 작성합니다.
또한 다른 피어는 시작 피어가 원격 설명 자로 수락하는 응답을 생성합니다. 이 프로세스가 완료되면 연결이 됩니다.

